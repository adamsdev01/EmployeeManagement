@page "/"
@using Models

<h3>Employee List</h3>

@if(Employees == null)
{
    <div class="spinner"></div>
    
}
else
{
    <div class="card-deck">
        @foreach(var employee in Employees)
        {
            <div class="card m-3" style="min-width: 18rem; max-width:30.5%">
                <div class="card-header">
                    <h3>@employee.FirstName @employee.LastName</h3>
                </div>
                <img class="card-img-top imageThumbnail" src="@employee.PhotoPath"/>
                <div class="card-footer text-center">
                    <a href="#" class="btn btn-primary m-1">View</a>

                    <a href="#" class="btn btn-primary m-1">Edit</a>

                    <a href="#" class="btn btn-danger m-1">Delete</a>
                </div>
            </div>
        }
    </div>
    
}


@code {

    public IEnumerable<Employee> Employees { get; set; }

    protected override async Task OnInitializedAsync()
    {
        await Task.Run(LoadEmployees);
        //LoadEmployees();
        //return base.OnInitializedAsync();
    }

    private void LoadEmployees()
    {
        System.Threading.Thread.Sleep(2000);
    }

    //private void LoadEmployees()
    //{
    //    Employee emp1 = new Employee
    //    {
    //        EmployeeId = 1,
    //        FirstName = "Poppy",
    //        LastName = "Li",
    //        EmailAddress = "Poppy.Li@opus.com",
    //        DOB = new DateTime(2000, 10, 05),
    //        Gender = Gender.Female,
    //        Department = new Department { DepartmentId = 1, DepartmentName = "IT" },
    //        PhotoPath = "images/personStock.jpg"
    //    };

    //    Employee emp2 = new Employee
    //    {
    //        EmployeeId = 2,
    //        FirstName = "Brad",
    //        LastName = "Bakshi",
    //        EmailAddress = "Brad.Bakshi@opus.com",
    //        DOB = new DateTime(1987, 11, 15),
    //        Gender = Gender.Male,
    //        Department = new Department { DepartmentId = 1, DepartmentName = "IT" },
    //        PhotoPath = "images/personStock.jpg"
    //    };

    //    Employee emp3 = new Employee
    //    {
    //        EmployeeId = 3,
    //        FirstName = "Richard",
    //        LastName = "Hendricks",
    //        EmailAddress = "Richard.Hendricks@opus.com",
    //        DOB = new DateTime(1979, 01, 01),
    //        Gender = Gender.Male,
    //        Department = new Department { DepartmentId = 1, DepartmentName = "IT" },
    //        PhotoPath = "images/personStock.jpg"
    //    };

    //    Employee emp4 = new Employee
    //    {
    //        EmployeeId = 4,
    //        FirstName = "Malcolm",
    //        LastName = "Adekanbi",
    //        EmailAddress = "Malcolm.Adekanbi@opus.com",
    //        DOB = new DateTime(1980, 03, 22),
    //        Gender = Gender.Male,
    //        Department = new Department { DepartmentId = 1, DepartmentName = "IT" },
    //        PhotoPath = "images/personStock.jpg"
    //    };

    //    Employee emp5 = new Employee
    //    {
    //        EmployeeId = 5,
    //        FirstName = "Elliot",
    //        LastName = "Alderson",
    //        EmailAddress = "Elliot.Alderson@opus.com",
    //        DOB = new DateTime(1986, 09, 17),
    //        Gender = Gender.Male,
    //        Department = new Department { DepartmentId = 1, DepartmentName = "IT" },
    //        PhotoPath = "images/personStock.jpg"
    //    };

    //    Employees = new List<Employee>
    //    {
    //        emp1, 
    //        emp2,
    //        emp3,
    //        emp4,
    //        emp5
    //    };
    //}
}
